# 工具函数

## 判断时间是否在指定区间

```js
/**
 * 判断时间是否在指定区间
 * @param {String} beginDateStr 开始时间
 * @param {String} endDateStr 结束时间
 * @param {String} currentDateStr 指定时间
 * @returns {Boolean}
 */
const isDuringDate = (beginDateStr, endDateStr, currentDateStr) => {
  if (!currentDateStr) return false;
  const curDate = new Date(currentDateStr);
  const sliderMinDate = new Date(beginDateStr);
  const sliderMaxDate = new Date(endDateStr);
  return curDate >= sliderMinDate && curDate <= sliderMaxDate;
};
```

## 添加千分符

```js
const addComma = value => {
  if (value) {
    const isNumber = !(Number.isNaN(value) || !Number.isFinite(value));
    if (isNumber) {
      return value.toString().replace(/\d{1,3}(?=(\d{3})+$)/g, s => `${s},`);
    }
  }
  return 0;
};
```

## 树结构筛选数据

```js
/**
 * 深度遍历树结构，过滤不符合字符串查询的数据
 * @param {Array} list 列表数据
 * @param {string} value 模糊查询字符串
 * @returns {Array} 过滤后的数组
 */
filterData = (list, value) => {
  const tempArr = list.filter((item) => {
    if (item.children) { // 如果有子节点，遍历子节点数组
			// 过滤掉不含有查询字符串和子节点的节点
      item.children = this.filterData(item.children, value);
      return item.children.length > 0 || item.title.indexOf(value) > -1;
    }
    return item.title.indexOf(value) > -1;
  });
  return tempArr;
}
```